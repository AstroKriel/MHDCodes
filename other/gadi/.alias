## ~/.alias


## ======== COMMAND SHORTCUTS ========
## ===================================

## list contents in directory
alias lss="ls -XG" # list files in column format
alias lsl="ls -XG -l" # list files + orgnaise by name
alias lst="ls -trlG -h" # list files + orgnaise by last time changed
alias lsh="ls -XlhG"

## python 3
alias py="python3"

## view long column-formated files
alias less="less -S"

## check the size / number of folders / files in current directory
function getFileCount() {
  find "$1" -type f | wc -l
}
alias get_dir_size='du -hcs * | sort -h'
alias get_file_count='find . -maxdepth 1 -mindepth 1 -type d -exec sh -c '\''echo "{} : $(find "{}" -type f | wc -l)" file\(s\)'\'' \;'

## FILE RECOVERY
## touch all files in sub-directories
alias touch_files="find . -type f -exec touch {} +"

## save a list of all the quarantined files
alias get_quarantined="nci-file-expiry list-quarantined > quarantined.txt"

# ## emacs shortcut
# alias e='emacs $OPTIONS'


## ======== CREATE INTERACTIVE JOBS ========
## =========================================

function createIntJob() {
  local group_name="$1"
  local num_cpus="$2"
  local mem=$((4 * $2))
  qsub -I -P "$group_name" -l wd -l software=idl -q express -l walltime=05:00:00,ncpus="$num_cpus",mem="$mem"GB
}

## Federrath group
alias create_int_job_48cpus="createIntJob ek9 48"
alias create_int_job_8cpus="createIntJob ek9 8"


## ======== QUERY JOBS / STORAGE AVAILABILITY ========
## ===================================================

function getGroupInfo() {
  local group_to_check="$1"
  local group_to_ignore="$2"
  lquota | grep -v "$group_to_ignore"
  echo -e "\n"
  nci-files-report -f scratch -p "$group_to_check"
  echo -e "\n"
  nci-files-report -f gdata -p "$group_to_check"
  echo -e "\n"
  nci_account -v
}

## query group status
alias get_group_info_ek9="getGroupInfo ek9 jh2"
alias get_group_info_jh2="getGroupInfo jh2 ek9"

## query active jobs
alias get_myps='ps -elf | grep $USER'
alias qs='qstat | grep -e $USER'
alias qa='nqstat_anu'
alias qn='qstat -f | grep "Job_Name"'
alias qi='qstat -f | grep "Job Id"'
alias get_num_jobs="qs | wc -l"


## ======== HOME DIRECTORY ========
## ================================
export HOME=/home/586/$USER
alias dhome="cd $HOME"


## ======== FREQUENTLY VISITED DIRECTORIES ========
## ================================================

## bin
export BIN=$HOME/bin
alias dbin="cd $BIN"

## scratch
export SCREK9=/scratch/ek9/$USER
export SCRJH2=/scratch/jh2/$USER
alias dscrek9="cd $SCREK9"
alias dscrjh2="cd $SCRJH2"

## gdata
export GDEK9=/g/data1b/ek9/$USER
export GDJH2=/g/data1b/jh2/$USER
alias dgdek9="cd $GDEK9"
alias dgdjh2="cd $GDJH2"

## Quokka
export QUOKKA=$HOME/Quokka
alias dqk="cd $QUOKKA"

## laptop essentials
export LAP=$HOME/LaptopEssentials/Gadi
alias dlap="cd $LAP"

## MHD analysis codes
export MHDCodes=$HOME/MHDCodes
export MHDPackage=$MHDCodes/TheMHDPackage
alias dmhd="cd $MHDCodes"

## FLASH directories
export FLASH=$HOME/flash4
export FORCE=$FLASH/source/physics/sourceTerms/Stir/StirFromFileMain/turbulence_generator
export STIR=$FLASH/source/Simulation/SimulationMain/StirFromFile
alias dflash="cd $FLASH"
alias dforce="cd $FORCE"
alias dstir="cd $STIR"

## useful directories
export TOOLS=$HOME/cf-tools
export SPECTRA=$TOOLS/spectra
alias dtools="cd $TOOLS"


## END OF ALIAS